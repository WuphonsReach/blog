---
layout: post
title: 'DF2014: World Generation (Creating micro-regions)'
date: '2014-09-24T15:05:00.000-04:00'
author: Wuphon's Reach
category: DwarfFortress
tags:
- DwarfFortress
- '2014'
modified_time: '2014-09-25T16:42:33.099-04:00'
blogger_id: tag:blogger.com,1999:blog-3097974.post-2954576809198275999
---

One of the big changes in DF2014 is that world history no longer freezes in time at the end of <a href="http://dwarffortresswiki.org/index.php/DF2014:World_generation" target="_blank">world generation</a>. &nbsp;As you play the game, there are background events occurring where armies continue to march, NPCs continue to interact, etc. &nbsp;One side effect of this is that the larger map sizes will run much slower then before, so it is better to play on small, smaller or pocket sized maps.<br /><br />Personally, I try to generate worlds with micro-regions, which makes it easier to get two, three or even four different biomes to mix together in interesting ways. &nbsp;In order to do that, I have to edit the data/init/world_gen.txt and <a href="http://dwarffortresswiki.org/index.php/DF2014:Advanced_world_generation" target="_blank">create my own custom world</a>.<br /><br />For example, by default the "SMALL REGION" recipe produces a 65x65 region world with about 250 different regions. &nbsp;With some tweaks, you can make the world much more patchwork so that it has ~1100 different regions, and it should be possible to get as high as ~2500 different regions.<br /><br />First, you should edit your data/init/d_init.txt file and enable logging of world generation rejects ([LOG_MAP_REJECTS:YES]). This will let you quickly figure out why a particular profile is resulting in hundreds or thousands of rejects.<br /><br />Secondly, you should make a copy of an existing region and paste it at the end of the file and edit that instead of the original definition. &nbsp;You can leave comments for yourself because Dwarf Fortress ignores anything not enclosed in square brackets. &nbsp;Putting the whole directory into a version control system like git or subversion can be useful as well.<br /><br />You will immediately want to change your [SUBREGION_MAX:####] setting in that profile to the maximum of 5000. &nbsp;When creating patchwork worlds, you are going to be bumping up against that limit frequently if all goes as planned.<br /><br />There are two sets of parameters that control how fast features change over distance:<br /><br />#1 - Look at the first number on all of the "_FREQUENCY" lines. &nbsp;This controls the mesh size of the world. &nbsp;By default, the mesh is set to disabled, but you will want to bump this up to 4 or 5 for small/smaller/pocket worlds. &nbsp;For medium/large worlds, a setting of 6 or 7 might work better.<br /><br />Mesh size is a complicated topic. &nbsp;You should pick a reasonable value, then leave it alone until you have generated dozens and dozens of worlds and run out of room to adjust the second set of parameters.<br /><br />#2 - The other set of parameters controls the minimum/maximum values plus how fast things can change over a given distance. &nbsp;Higher numbers result in a more patchwork appearance, lower numbers result in a much smoother appearance. <br /><br />(these are "SMALL REGION" defaults):<br /><br />[ELEVATION:1:400:202:202]<br />[RAINFALL:0:100:101:101]<br />[TEMPERATURE:25:75:101:101]<br />[DRAINAGE:0:100:101:101]<br />[VOLCANISM:0:100:101:101]<br />[SAVAGERY:0:100:101:101]<br /><br />Be cautious when changing the min/max values (first two numbers), they can result in huge numbers of rejected worlds, biomes that cannot exist at all, or other problems. &nbsp;You should leave these alone until you have more experience with world generation.<br /><br />The last two numbers on each line is what you want to play with. &nbsp;The limit for these values are 0-3200, with the second to last number controlling east-west and the last number controls north-south. The default values are pretty conservative.<br /><br /><br />